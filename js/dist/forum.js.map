{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@hamzone/share/./node_modules/weixin-js-sdk/index.js","webpack://@hamzone/share/webpack/bootstrap","webpack://@hamzone/share/webpack/runtime/compat get default export","webpack://@hamzone/share/webpack/runtime/define property getters","webpack://@hamzone/share/webpack/runtime/hasOwnProperty shorthand","webpack://@hamzone/share/webpack/runtime/make namespace object","webpack://@hamzone/share/external root \"flarum.core.compat['forum/app']\"","webpack://@hamzone/share/external root \"flarum.core.compat['common/extend']\"","webpack://@hamzone/share/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@hamzone/share/./node_modules/weixin-js-sdk-ts/index.js","webpack://@hamzone/share/external root \"flarum.core.compat['forum/components/DiscussionHero']\"","webpack://@hamzone/share/./src/forum/index.js","webpack://@hamzone/share/./src/forum/wechat/Post.js"],"sourcesContent":["!(function(e, n) {\n  module.exports = n(e);\n})(window, function(o, e) {\n  if (!o.jWeixin) {\n    var n,\n      c = {\n        config: \"preVerifyJSAPI\",\n        onMenuShareTimeline: \"menu:share:timeline\",\n        onMenuShareAppMessage: \"menu:share:appmessage\",\n        onMenuShareQQ: \"menu:share:qq\",\n        onMenuShareWeibo: \"menu:share:weiboApp\",\n        onMenuShareQZone: \"menu:share:QZone\",\n        previewImage: \"imagePreview\",\n        getLocation: \"geoLocation\",\n        openProductSpecificView: \"openProductViewWithPid\",\n        addCard: \"batchAddCard\",\n        openCard: \"batchViewCard\",\n        chooseWXPay: \"getBrandWCPayRequest\",\n        openEnterpriseRedPacket: \"getRecevieBizHongBaoRequest\",\n        startSearchBeacons: \"startMonitoringBeacons\",\n        stopSearchBeacons: \"stopMonitoringBeacons\",\n        onSearchBeacons: \"onBeaconsInRange\",\n        consumeAndShareCard: \"consumedShareCard\",\n        openAddress: \"editAddress\"\n      },\n      a = (function() {\n        var e = {};\n        for (var n in c) e[c[n]] = n;\n        return e;\n      })(),\n      i = o.document,\n      t = i.title,\n      r = navigator.userAgent.toLowerCase(),\n      s = navigator.platform.toLowerCase(),\n      d = !(!s.match(\"mac\") && !s.match(\"win\")),\n      u = -1 != r.indexOf(\"wxdebugger\"),\n      l = -1 != r.indexOf(\"micromessenger\"),\n      p = -1 != r.indexOf(\"android\"),\n      f = -1 != r.indexOf(\"iphone\") || -1 != r.indexOf(\"ipad\"),\n      m = (n =\n        r.match(/micromessenger\\/(\\d+\\.\\d+\\.\\d+)/) ||\n        r.match(/micromessenger\\/(\\d+\\.\\d+)/))\n        ? n[1]\n        : \"\",\n      g = {\n        initStartTime: L(),\n        initEndTime: 0,\n        preVerifyStartTime: 0,\n        preVerifyEndTime: 0\n      },\n      h = {\n        version: 1,\n        appId: \"\",\n        initTime: 0,\n        preVerifyTime: 0,\n        networkType: \"\",\n        isPreVerifyOk: 1,\n        systemType: f ? 1 : p ? 2 : -1,\n        clientVersion: m,\n        url: encodeURIComponent(location.href)\n      },\n      v = {},\n      S = { _completes: [] },\n      y = { state: 0, data: {} };\n    O(function() {\n      g.initEndTime = L();\n    });\n    var I = !1,\n      _ = [],\n      w = {\n        config: function(e) {\n          B(\"config\", (v = e));\n          var t = !1 !== v.check;\n          O(function() {\n            if (t)\n              M(\n                c.config,\n                {\n                  verifyJsApiList: C(v.jsApiList),\n                  verifyOpenTagList: C(v.openTagList)\n                },\n                (function() {\n                  (S._complete = function(e) {\n                    (g.preVerifyEndTime = L()), (y.state = 1), (y.data = e);\n                  }),\n                    (S.success = function(e) {\n                      h.isPreVerifyOk = 0;\n                    }),\n                    (S.fail = function(e) {\n                      S._fail ? S._fail(e) : (y.state = -1);\n                    });\n                  var t = S._completes;\n                  return (\n                    t.push(function() {\n                      !(function() {\n                        if (\n                          !(\n                            d ||\n                            u ||\n                            v.debug ||\n                            m < \"6.0.2\" ||\n                            h.systemType < 0\n                          )\n                        ) {\n                          var i = new Image();\n                          (h.appId = v.appId),\n                            (h.initTime = g.initEndTime - g.initStartTime),\n                            (h.preVerifyTime =\n                              g.preVerifyEndTime - g.preVerifyStartTime),\n                            w.getNetworkType({\n                              isInnerInvoke: !0,\n                              success: function(e) {\n                                h.networkType = e.networkType;\n                                var n =\n                                  \"https://open.weixin.qq.com/sdk/report?v=\" +\n                                  h.version +\n                                  \"&o=\" +\n                                  h.isPreVerifyOk +\n                                  \"&s=\" +\n                                  h.systemType +\n                                  \"&c=\" +\n                                  h.clientVersion +\n                                  \"&a=\" +\n                                  h.appId +\n                                  \"&n=\" +\n                                  h.networkType +\n                                  \"&i=\" +\n                                  h.initTime +\n                                  \"&p=\" +\n                                  h.preVerifyTime +\n                                  \"&u=\" +\n                                  h.url;\n                                i.src = n;\n                              }\n                            });\n                        }\n                      })();\n                    }),\n                    (S.complete = function(e) {\n                      for (var n = 0, i = t.length; n < i; ++n) t[n]();\n                      S._completes = [];\n                    }),\n                    S\n                  );\n                })()\n              ),\n                (g.preVerifyStartTime = L());\n            else {\n              y.state = 1;\n              for (var e = S._completes, n = 0, i = e.length; n < i; ++n)\n                e[n]();\n              S._completes = [];\n            }\n          }),\n            w.invoke ||\n              ((w.invoke = function(e, n, i) {\n                o.WeixinJSBridge && WeixinJSBridge.invoke(e, x(n), i);\n              }),\n              (w.on = function(e, n) {\n                o.WeixinJSBridge && WeixinJSBridge.on(e, n);\n              }));\n        },\n        ready: function(e) {\n          0 != y.state ? e() : (S._completes.push(e), !l && v.debug && e());\n        },\n        error: function(e) {\n          m < \"6.0.2\" || (-1 == y.state ? e(y.data) : (S._fail = e));\n        },\n        checkJsApi: function(e) {\n          M(\n            \"checkJsApi\",\n            { jsApiList: C(e.jsApiList) },\n            ((e._complete = function(e) {\n              if (p) {\n                var n = e.checkResult;\n                n && (e.checkResult = JSON.parse(n));\n              }\n              e = (function(e) {\n                var n = e.checkResult;\n                for (var i in n) {\n                  var t = a[i];\n                  t && ((n[t] = n[i]), delete n[i]);\n                }\n                return e;\n              })(e);\n            }),\n            e)\n          );\n        },\n        onMenuShareTimeline: function(e) {\n          P(\n            c.onMenuShareTimeline,\n            {\n              complete: function() {\n                M(\n                  \"shareTimeline\",\n                  {\n                    title: e.title || t,\n                    desc: e.title || t,\n                    img_url: e.imgUrl || \"\",\n                    link: e.link || location.href,\n                    type: e.type || \"link\",\n                    data_url: e.dataUrl || \"\"\n                  },\n                  e\n                );\n              }\n            },\n            e\n          );\n        },\n        onMenuShareAppMessage: function(n) {\n          P(\n            c.onMenuShareAppMessage,\n            {\n              complete: function(e) {\n                \"favorite\" === e.scene\n                  ? M(\"sendAppMessage\", {\n                      title: n.title || t,\n                      desc: n.desc || \"\",\n                      link: n.link || location.href,\n                      img_url: n.imgUrl || \"\",\n                      type: n.type || \"link\",\n                      data_url: n.dataUrl || \"\"\n                    })\n                  : M(\n                      \"sendAppMessage\",\n                      {\n                        title: n.title || t,\n                        desc: n.desc || \"\",\n                        link: n.link || location.href,\n                        img_url: n.imgUrl || \"\",\n                        type: n.type || \"link\",\n                        data_url: n.dataUrl || \"\"\n                      },\n                      n\n                    );\n              }\n            },\n            n\n          );\n        },\n        onMenuShareQQ: function(e) {\n          P(\n            c.onMenuShareQQ,\n            {\n              complete: function() {\n                M(\n                  \"shareQQ\",\n                  {\n                    title: e.title || t,\n                    desc: e.desc || \"\",\n                    img_url: e.imgUrl || \"\",\n                    link: e.link || location.href\n                  },\n                  e\n                );\n              }\n            },\n            e\n          );\n        },\n        onMenuShareWeibo: function(e) {\n          P(\n            c.onMenuShareWeibo,\n            {\n              complete: function() {\n                M(\n                  \"shareWeiboApp\",\n                  {\n                    title: e.title || t,\n                    desc: e.desc || \"\",\n                    img_url: e.imgUrl || \"\",\n                    link: e.link || location.href\n                  },\n                  e\n                );\n              }\n            },\n            e\n          );\n        },\n        onMenuShareQZone: function(e) {\n          P(\n            c.onMenuShareQZone,\n            {\n              complete: function() {\n                M(\n                  \"shareQZone\",\n                  {\n                    title: e.title || t,\n                    desc: e.desc || \"\",\n                    img_url: e.imgUrl || \"\",\n                    link: e.link || location.href\n                  },\n                  e\n                );\n              }\n            },\n            e\n          );\n        },\n        updateTimelineShareData: function(e) {\n          M(\n            \"updateTimelineShareData\",\n            { title: e.title, link: e.link, imgUrl: e.imgUrl },\n            e\n          );\n        },\n        updateAppMessageShareData: function(e) {\n          M(\n            \"updateAppMessageShareData\",\n            { title: e.title, desc: e.desc, link: e.link, imgUrl: e.imgUrl },\n            e\n          );\n        },\n        startRecord: function(e) {\n          M(\"startRecord\", {}, e);\n        },\n        stopRecord: function(e) {\n          M(\"stopRecord\", {}, e);\n        },\n        onVoiceRecordEnd: function(e) {\n          P(\"onVoiceRecordEnd\", e);\n        },\n        playVoice: function(e) {\n          M(\"playVoice\", { localId: e.localId }, e);\n        },\n        pauseVoice: function(e) {\n          M(\"pauseVoice\", { localId: e.localId }, e);\n        },\n        stopVoice: function(e) {\n          M(\"stopVoice\", { localId: e.localId }, e);\n        },\n        onVoicePlayEnd: function(e) {\n          P(\"onVoicePlayEnd\", e);\n        },\n        uploadVoice: function(e) {\n          M(\n            \"uploadVoice\",\n            {\n              localId: e.localId,\n              isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n            },\n            e\n          );\n        },\n        downloadVoice: function(e) {\n          M(\n            \"downloadVoice\",\n            {\n              serverId: e.serverId,\n              isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n            },\n            e\n          );\n        },\n        translateVoice: function(e) {\n          M(\n            \"translateVoice\",\n            {\n              localId: e.localId,\n              isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n            },\n            e\n          );\n        },\n        chooseImage: function(e) {\n          M(\n            \"chooseImage\",\n            {\n              scene: \"1|2\",\n              count: e.count || 9,\n              sizeType: e.sizeType || [\"original\", \"compressed\"],\n              sourceType: e.sourceType || [\"album\", \"camera\"]\n            },\n            ((e._complete = function(e) {\n              if (p) {\n                var n = e.localIds;\n                try {\n                  n && (e.localIds = JSON.parse(n));\n                } catch (e) {}\n              }\n            }),\n            e)\n          );\n        },\n        getLocation: function(e) {},\n        previewImage: function(e) {\n          M(c.previewImage, { current: e.current, urls: e.urls }, e);\n        },\n        uploadImage: function(e) {\n          M(\n            \"uploadImage\",\n            {\n              localId: e.localId,\n              isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n            },\n            e\n          );\n        },\n        downloadImage: function(e) {\n          M(\n            \"downloadImage\",\n            {\n              serverId: e.serverId,\n              isShowProgressTips: 0 == e.isShowProgressTips ? 0 : 1\n            },\n            e\n          );\n        },\n        getLocalImgData: function(e) {\n          !1 === I\n            ? ((I = !0),\n              M(\n                \"getLocalImgData\",\n                { localId: e.localId },\n                ((e._complete = function(e) {\n                  if (((I = !1), 0 < _.length)) {\n                    var n = _.shift();\n                    wx.getLocalImgData(n);\n                  }\n                }),\n                e)\n              ))\n            : _.push(e);\n        },\n        getNetworkType: function(e) {\n          M(\n            \"getNetworkType\",\n            {},\n            ((e._complete = function(e) {\n              e = (function(e) {\n                var n = e.errMsg;\n                e.errMsg = \"getNetworkType:ok\";\n                var i = e.subtype;\n                if ((delete e.subtype, i)) e.networkType = i;\n                else {\n                  var t = n.indexOf(\":\"),\n                    o = n.substring(t + 1);\n                  switch (o) {\n                    case \"wifi\":\n                    case \"edge\":\n                    case \"wwan\":\n                      e.networkType = o;\n                      break;\n                    default:\n                      e.errMsg = \"getNetworkType:fail\";\n                  }\n                }\n                return e;\n              })(e);\n            }),\n            e)\n          );\n        },\n        openLocation: function(e) {\n          M(\n            \"openLocation\",\n            {\n              latitude: e.latitude,\n              longitude: e.longitude,\n              name: e.name || \"\",\n              address: e.address || \"\",\n              scale: e.scale || 28,\n              infoUrl: e.infoUrl || \"\"\n            },\n            e\n          );\n        },\n        getLocation: function(e) {\n          M(\n            c.getLocation,\n            { type: (e = e || {}).type || \"wgs84\" },\n            ((e._complete = function(e) {\n              delete e.type;\n            }),\n            e)\n          );\n        },\n        hideOptionMenu: function(e) {\n          M(\"hideOptionMenu\", {}, e);\n        },\n        showOptionMenu: function(e) {\n          M(\"showOptionMenu\", {}, e);\n        },\n        closeWindow: function(e) {\n          M(\"closeWindow\", {}, (e = e || {}));\n        },\n        hideMenuItems: function(e) {\n          M(\"hideMenuItems\", { menuList: e.menuList }, e);\n        },\n        showMenuItems: function(e) {\n          M(\"showMenuItems\", { menuList: e.menuList }, e);\n        },\n        hideAllNonBaseMenuItem: function(e) {\n          M(\"hideAllNonBaseMenuItem\", {}, e);\n        },\n        showAllNonBaseMenuItem: function(e) {\n          M(\"showAllNonBaseMenuItem\", {}, e);\n        },\n        scanQRCode: function(e) {\n          M(\n            \"scanQRCode\",\n            {\n              needResult: (e = e || {}).needResult || 0,\n              scanType: e.scanType || [\"qrCode\", \"barCode\"]\n            },\n            ((e._complete = function(e) {\n              if (f) {\n                var n = e.resultStr;\n                if (n) {\n                  var i = JSON.parse(n);\n                  e.resultStr = i && i.scan_code && i.scan_code.scan_result;\n                }\n              }\n            }),\n            e)\n          );\n        },\n        openAddress: function(e) {\n          M(\n            c.openAddress,\n            {},\n            ((e._complete = function(e) {\n              e = (function(e) {\n                return (\n                  (e.postalCode = e.addressPostalCode),\n                  delete e.addressPostalCode,\n                  (e.provinceName = e.proviceFirstStageName),\n                  delete e.proviceFirstStageName,\n                  (e.cityName = e.addressCitySecondStageName),\n                  delete e.addressCitySecondStageName,\n                  (e.countryName = e.addressCountiesThirdStageName),\n                  delete e.addressCountiesThirdStageName,\n                  (e.detailInfo = e.addressDetailInfo),\n                  delete e.addressDetailInfo,\n                  e\n                );\n              })(e);\n            }),\n            e)\n          );\n        },\n        openProductSpecificView: function(e) {\n          M(\n            c.openProductSpecificView,\n            {\n              pid: e.productId,\n              view_type: e.viewType || 0,\n              ext_info: e.extInfo\n            },\n            e\n          );\n        },\n        addCard: function(e) {\n          for (var n = e.cardList, i = [], t = 0, o = n.length; t < o; ++t) {\n            var r = n[t],\n              a = { card_id: r.cardId, card_ext: r.cardExt };\n            i.push(a);\n          }\n          M(\n            c.addCard,\n            { card_list: i },\n            ((e._complete = function(e) {\n              var n = e.card_list;\n              if (n) {\n                for (var i = 0, t = (n = JSON.parse(n)).length; i < t; ++i) {\n                  var o = n[i];\n                  (o.cardId = o.card_id),\n                    (o.cardExt = o.card_ext),\n                    (o.isSuccess = !!o.is_succ),\n                    delete o.card_id,\n                    delete o.card_ext,\n                    delete o.is_succ;\n                }\n                (e.cardList = n), delete e.card_list;\n              }\n            }),\n            e)\n          );\n        },\n        chooseCard: function(e) {\n          M(\n            \"chooseCard\",\n            {\n              app_id: v.appId,\n              location_id: e.shopId || \"\",\n              sign_type: e.signType || \"SHA1\",\n              card_id: e.cardId || \"\",\n              card_type: e.cardType || \"\",\n              card_sign: e.cardSign,\n              time_stamp: e.timestamp + \"\",\n              nonce_str: e.nonceStr\n            },\n            ((e._complete = function(e) {\n              (e.cardList = e.choose_card_info), delete e.choose_card_info;\n            }),\n            e)\n          );\n        },\n        openCard: function(e) {\n          for (var n = e.cardList, i = [], t = 0, o = n.length; t < o; ++t) {\n            var r = n[t],\n              a = { card_id: r.cardId, code: r.code };\n            i.push(a);\n          }\n          M(c.openCard, { card_list: i }, e);\n        },\n        consumeAndShareCard: function(e) {\n          M(\n            c.consumeAndShareCard,\n            { consumedCardId: e.cardId, consumedCode: e.code },\n            e\n          );\n        },\n        chooseWXPay: function(e) {\n          M(c.chooseWXPay, V(e), e);\n        },\n        openEnterpriseRedPacket: function(e) {\n          M(c.openEnterpriseRedPacket, V(e), e);\n        },\n        startSearchBeacons: function(e) {\n          M(c.startSearchBeacons, { ticket: e.ticket }, e);\n        },\n        stopSearchBeacons: function(e) {\n          M(c.stopSearchBeacons, {}, e);\n        },\n        onSearchBeacons: function(e) {\n          P(c.onSearchBeacons, e);\n        },\n        openEnterpriseChat: function(e) {\n          M(\n            \"openEnterpriseChat\",\n            { useridlist: e.userIds, chatname: e.groupName },\n            e\n          );\n        },\n        launchMiniProgram: function(e) {\n          M(\n            \"launchMiniProgram\",\n            {\n              targetAppId: e.targetAppId,\n              path: (function(e) {\n                if (\"string\" == typeof e && 0 < e.length) {\n                  var n = e.split(\"?\")[0],\n                    i = e.split(\"?\")[1];\n                  return (n += \".html\"), void 0 !== i ? n + \"?\" + i : n;\n                }\n              })(e.path),\n              envVersion: e.envVersion\n            },\n            e\n          );\n        },\n        openBusinessView: function(e) {\n          M(\n            \"openBusinessView\",\n            {\n              businessType: e.businessType,\n              queryString: e.queryString || \"\",\n              envVersion: e.envVersion\n            },\n            ((e._complete = function(n) {\n              if (p) {\n                var e = n.extraData;\n                if (e)\n                  try {\n                    n.extraData = JSON.parse(e);\n                  } catch (e) {\n                    n.extraData = {};\n                  }\n              }\n            }),\n            e)\n          );\n        },\n        miniProgram: {\n          navigateBack: function(e) {\n            (e = e || {}),\n              O(function() {\n                M(\n                  \"invokeMiniProgramAPI\",\n                  { name: \"navigateBack\", arg: { delta: e.delta || 1 } },\n                  e\n                );\n              });\n          },\n          navigateTo: function(e) {\n            O(function() {\n              M(\n                \"invokeMiniProgramAPI\",\n                { name: \"navigateTo\", arg: { url: e.url } },\n                e\n              );\n            });\n          },\n          redirectTo: function(e) {\n            O(function() {\n              M(\n                \"invokeMiniProgramAPI\",\n                { name: \"redirectTo\", arg: { url: e.url } },\n                e\n              );\n            });\n          },\n          switchTab: function(e) {\n            O(function() {\n              M(\n                \"invokeMiniProgramAPI\",\n                { name: \"switchTab\", arg: { url: e.url } },\n                e\n              );\n            });\n          },\n          reLaunch: function(e) {\n            O(function() {\n              M(\n                \"invokeMiniProgramAPI\",\n                { name: \"reLaunch\", arg: { url: e.url } },\n                e\n              );\n            });\n          },\n          postMessage: function(e) {\n            O(function() {\n              M(\n                \"invokeMiniProgramAPI\",\n                { name: \"postMessage\", arg: e.data || {} },\n                e\n              );\n            });\n          },\n          getEnv: function(e) {\n            O(function() {\n              e({ miniprogram: \"miniprogram\" === o.__wxjs_environment });\n            });\n          }\n        }\n      },\n      T = 1,\n      k = {};\n    return (\n      i.addEventListener(\n        \"error\",\n        function(e) {\n          if (!p) {\n            var n = e.target,\n              i = n.tagName,\n              t = n.src;\n            if (\"IMG\" == i || \"VIDEO\" == i || \"AUDIO\" == i || \"SOURCE\" == i)\n              if (-1 != t.indexOf(\"wxlocalresource://\")) {\n                e.preventDefault(), e.stopPropagation();\n                var o = n[\"wx-id\"];\n                if ((o || ((o = T++), (n[\"wx-id\"] = o)), k[o])) return;\n                (k[o] = !0),\n                  wx.ready(function() {\n                    wx.getLocalImgData({\n                      localId: t,\n                      success: function(e) {\n                        n.src = e.localData;\n                      }\n                    });\n                  });\n              }\n          }\n        },\n        !0\n      ),\n      i.addEventListener(\n        \"load\",\n        function(e) {\n          if (!p) {\n            var n = e.target,\n              i = n.tagName;\n            n.src;\n            if (\"IMG\" == i || \"VIDEO\" == i || \"AUDIO\" == i || \"SOURCE\" == i) {\n              var t = n[\"wx-id\"];\n              t && (k[t] = !1);\n            }\n          }\n        },\n        !0\n      ),\n      e && (o.wx = o.jWeixin = w),\n      w\n    );\n  }\n  function M(n, e, i) {\n    o.WeixinJSBridge\n      ? WeixinJSBridge.invoke(n, x(e), function(e) {\n          A(n, e, i);\n        })\n      : B(n, i);\n  }\n  function P(n, i, t) {\n    o.WeixinJSBridge\n      ? WeixinJSBridge.on(n, function(e) {\n          t && t.trigger && t.trigger(e), A(n, e, i);\n        })\n      : B(n, t || i);\n  }\n  function x(e) {\n    return (\n      ((e = e || {}).appId = v.appId),\n      (e.verifyAppId = v.appId),\n      (e.verifySignType = \"sha1\"),\n      (e.verifyTimestamp = v.timestamp + \"\"),\n      (e.verifyNonceStr = v.nonceStr),\n      (e.verifySignature = v.signature),\n      e\n    );\n  }\n  function V(e) {\n    return {\n      timeStamp: e.timestamp + \"\",\n      nonceStr: e.nonceStr,\n      package: e.package,\n      paySign: e.paySign,\n      signType: e.signType || \"SHA1\"\n    };\n  }\n  function A(e, n, i) {\n    (\"openEnterpriseChat\" != e && \"openBusinessView\" !== e) ||\n      (n.errCode = n.err_code),\n      delete n.err_code,\n      delete n.err_desc,\n      delete n.err_detail;\n    var t = n.errMsg;\n    t ||\n      ((t = n.err_msg),\n      delete n.err_msg,\n      (t = (function(e, n) {\n        var i = e,\n          t = a[i];\n        t && (i = t);\n        var o = \"ok\";\n        if (n) {\n          var r = n.indexOf(\":\");\n          \"confirm\" == (o = n.substring(r + 1)) && (o = \"ok\"),\n            \"failed\" == o && (o = \"fail\"),\n            -1 != o.indexOf(\"failed_\") && (o = o.substring(7)),\n            -1 != o.indexOf(\"fail_\") && (o = o.substring(5)),\n            (\"access denied\" !=\n              (o = (o = o.replace(/_/g, \" \")).toLowerCase()) &&\n              \"no permission to execute\" != o) ||\n              (o = \"permission denied\"),\n            \"config\" == i && \"function not exist\" == o && (o = \"ok\"),\n            \"\" == o && (o = \"fail\");\n        }\n        return (n = i + \":\" + o);\n      })(e, t)),\n      (n.errMsg = t)),\n      (i = i || {})._complete && (i._complete(n), delete i._complete),\n      (t = n.errMsg || \"\"),\n      v.debug && !i.isInnerInvoke && alert(JSON.stringify(n));\n    var o = t.indexOf(\":\");\n    switch (t.substring(o + 1)) {\n      case \"ok\":\n        i.success && i.success(n);\n        break;\n      case \"cancel\":\n        i.cancel && i.cancel(n);\n        break;\n      default:\n        i.fail && i.fail(n);\n    }\n    i.complete && i.complete(n);\n  }\n  function C(e) {\n    if (e) {\n      for (var n = 0, i = e.length; n < i; ++n) {\n        var t = e[n],\n          o = c[t];\n        o && (e[n] = o);\n      }\n      return e;\n    }\n  }\n  function B(e, n) {\n    if (!(!v.debug || (n && n.isInnerInvoke))) {\n      var i = a[e];\n      i && (e = i),\n        n && n._complete && delete n._complete,\n        console.log('\"' + e + '\",', n || \"\");\n    }\n  }\n  function L() {\n    return new Date().getTime();\n  }\n  function O(e) {\n    l &&\n      (o.WeixinJSBridge\n        ? e()\n        : i.addEventListener &&\n          i.addEventListener(\"WeixinJSBridgeReady\", e, !1));\n  }\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","import wx from \"weixin-js-sdk\"\n\nexport default wx\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionHero'];","import app from 'flarum/forum/app';\nimport Post from './wechat/Post';\n\napp.initializers.add('hamzone/share', () => {\n  Post();\n});\n","import { extend } from 'flarum/common/extend';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport wx from 'weixin-js-sdk-ts'\nimport DiscussionHero from 'flarum/forum/components/DiscussionHero';\n\nexport default function () {\n    extend(CommentPost.prototype, 'headerItems', function (items) {\n        const post = this.attrs.post;\n        const id = post.relationships.discussion.data.id;\n        console.log(post)\n        var ua = window.navigator.userAgent.toLowerCase();\n        console.log(ua)\n        if (ua.match(/MicroMessenger/i) == 'micromessenger') {\n            console.log(wx)\n            //微信环境\n            wx.miniProgram.getEnv(function (res) {\n                if (res.miniprogram && id) {\n                    console.log(res)\n                    app.store.find('discussions', id).then(discussion => {\n                        wx.miniProgram.postMessage({ data: { \n                            title: discussion.title(), \n                            path: app.forum.attribute('baseUrl')+\"/d/\"+post.data.id, \n                            imageUrl: discussion.user().data.attributes.avatarUrl?\n                                discussion.user().data.attributes.avatarUrl:\"\" \n                        } })\n                    });\n                   \n                }\n            })\n        }\n    })\n}"],"names":["e","window","module","exports","o","jWeixin","_w","n","c","config","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","previewImage","getLocation","openProductSpecificView","addCard","openCard","chooseWXPay","openEnterpriseRedPacket","startSearchBeacons","stopSearchBeacons","onSearchBeacons","consumeAndShareCard","openAddress","a","i","document","t","title","r","navigator","userAgent","toLowerCase","s","platform","d","match","u","indexOf","l","p","f","m","g","initStartTime","L","initEndTime","preVerifyStartTime","preVerifyEndTime","h","version","appId","initTime","preVerifyTime","networkType","isPreVerifyOk","systemType","clientVersion","url","encodeURIComponent","location","href","v","S","_completes","y","state","data","O","I","_","w","B","check","M","verifyJsApiList","C","jsApiList","verifyOpenTagList","openTagList","_complete","success","fail","_fail","push","debug","Image","getNetworkType","isInnerInvoke","src","complete","length","invoke","WeixinJSBridge","x","on","ready","error","checkJsApi","checkResult","JSON","parse","P","desc","img_url","imgUrl","link","type","data_url","dataUrl","scene","updateTimelineShareData","updateAppMessageShareData","startRecord","stopRecord","onVoiceRecordEnd","playVoice","localId","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","isShowProgressTips","downloadVoice","serverId","translateVoice","chooseImage","count","sizeType","sourceType","localIds","current","urls","uploadImage","downloadImage","getLocalImgData","shift","wx","errMsg","subtype","substring","openLocation","latitude","longitude","name","address","scale","infoUrl","hideOptionMenu","showOptionMenu","closeWindow","hideMenuItems","menuList","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","scanQRCode","needResult","scanType","resultStr","scan_code","scan_result","postalCode","addressPostalCode","provinceName","proviceFirstStageName","cityName","addressCitySecondStageName","countryName","addressCountiesThirdStageName","detailInfo","addressDetailInfo","pid","productId","view_type","viewType","ext_info","extInfo","cardList","card_id","cardId","card_ext","cardExt","card_list","isSuccess","is_succ","chooseCard","app_id","location_id","shopId","sign_type","signType","card_type","cardType","card_sign","cardSign","time_stamp","timestamp","nonce_str","nonceStr","choose_card_info","code","consumedCardId","consumedCode","V","ticket","openEnterpriseChat","useridlist","userIds","chatname","groupName","launchMiniProgram","targetAppId","path","split","envVersion","openBusinessView","businessType","queryString","extraData","miniProgram","navigateBack","arg","delta","navigateTo","redirectTo","switchTab","reLaunch","postMessage","getEnv","miniprogram","__wxjs_environment","T","k","addEventListener","target","tagName","preventDefault","stopPropagation","localData","A","trigger","verifyAppId","verifySignType","verifyTimestamp","verifyNonceStr","verifySignature","signature","timeStamp","package","paySign","errCode","err_code","err_desc","err_detail","err_msg","replace","alert","stringify","cancel","console","log","Date","getTime","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","key","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","app","extend","CommentPost","items","post","this","attrs","id","relationships","discussion","ua","res","store","find","then","forum","attribute","imageUrl","user","attributes","avatarUrl"],"sourceRoot":""}